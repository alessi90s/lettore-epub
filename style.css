<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Lettore EPUB - Evidenziatore Pastello</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="top-bar">
    <div class="brand">
      <span class="logo-dot"></span>
      <span class="brand-text">Lettore EPUB</span>
    </div>

    <label class="file-label">
      <span>Carica EPUB</span>
      <input type="file" id="fileInput" accept=".epub">
    </label>

    <div class="status" id="status">Nessun file caricato</div>
  </header>

  <main class="reader-layout">
    <aside class="controls">
      <h2>Controlli lettura</h2>

      <div class="controls-group">
        <label class="controls-label">Navigazione pagine</label>
        <div class="btn-row">
          <button id="prevPage" class="btn" type="button">&larr; Pagina prec.</button>
          <button id="nextPage" class="btn" type="button">Pagina succ. &rarr;</button>
        </div>
        <div id="pageIndicator" class="page-indicator">Pagina 0 / 0</div>
      </div>

      <div class="controls-group">
        <label class="controls-label">Evidenziatore</label>
        <div class="btn-row">
          <button id="prevChunk" class="btn btn-ghost" type="button">&larr; Indietro parole</button>
          <button id="nextChunk" class="btn btn-ghost" type="button">Avanti parole &rarr;</button>
        </div>
        <button id="toggleAuto" class="btn btn-primary" type="button">
          ‚ñ∂ Auto evidenziatore
        </button>
      </div>

      <div class="controls-group">
        <label class="controls-label">Velocit√† auto evidenziatore</label>
        <!-- 0 = lentissimo (~3s) ¬∑ 100 = velocissimo (~0,2s) -->
        <input id="speedRange" type="range" min="0" max="100" step="1" value="40">
        <div class="speed-label">
          <span>Lento</span>
          <span id="speedValue">1,00 s</span>
          <span>Veloce</span>
        </div>
      </div>

      <p class="hint">
        Suggerimento: clicca su un paragrafo per dirgli
        <strong>‚Äústo leggendo questo‚Äù</strong>.<br>
        L‚Äôevidenziatore pastello seguir√† 4 parole alla volta.
      </p>
    </aside>

    <section class="book-area">
      <div class="book-page" id="pageContainer">
        <div class="page-inner">
          <div class="placeholder">
            <h1>Benvenuto üëã</h1>
            <p>Carica un file <strong>.epub</strong> dal pulsante in alto per iniziare a leggere.</p>
            <p>Il paragrafo che stai leggendo verr√† illuminato, con <strong>4 parole alla volta</strong> evidenziate con un effetto evidenziatore pastello.</p>
          </div>
        </div>
      </div>

      <div class="page-footer">
        <span class="page-footer-text">Sfoglia come un libro, una pagina alla volta.</span>
      </div>
    </section>
  </main>

  <!-- Libreria JSZip per leggere gli EPUB (che sono ZIP) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
